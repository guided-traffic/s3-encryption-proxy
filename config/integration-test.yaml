---
# Server configuration
bind_address: "0.0.0.0:8080"
log_level: "info"
log_health_requests: false  # Disable health endpoint logging by default

# S3 backend configuration - localhost for integration tests
target_endpoint: "https://localhost:9000"
region: "us-east-1"
access_key_id: "minioadmin"
secret_key: "minioadmin123"

# Multi-Provider Encryption Configuration
encryption:
  # Active encryption method (used for writing new files) - CORRECTED ARCHITECTURE!
  encryption_method_alias: "aes-envelope"

  # List of KEK providers (correct architecture)
  providers:
    - alias: "aes-envelope"
      type: "aes"  # KEK Provider - DEK algorithm selected automatically by Factory
      description: "AES envelope encryption (AES-CTR for multipart, AES-GCM for whole files)"
      config:
        # Generate a demo key (do NOT use in production!)
        aes_key: "XZmcGLpObUuGV8CFOmfLKs7rggrX2TwIk5/Lbt9Azl4="

# Streaming Configuration
streaming:
  # Segment size in bytes - chunks are collected until this size is reached,
  # then sent as one S3 upload part (default: 12MB = 12 * 1024 * 1024)
  # Minimum: 5MB (S3 requirement), Maximum: 5GB (S3 limit)
  segment_size: 12582912  # 12MB = 12 * 1024 * 1024 bytes
